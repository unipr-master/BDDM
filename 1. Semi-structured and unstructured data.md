I sistemi di gestione dei dati relazionali sono ampiamente utilizzati in molte applicazioni di rilievo, come nei sistemi informativi di banche e grandi aziende. Tuttavia, la maggior parte dei dati digitali disponibili oggi non è in formato relazionale.

La produzione di enormi quantità di dati non relazionali è aumentata nel tempo, soprattutto a causa della diffusione di Internet e delle piattaforme di condivisione multimediale. Questo tipo di dati presenta generalmente proprietà differenti rispetto ai dati gestiti dai sistemi relazionali.

![[Pasted image 20250219145144.png|600]]

I dati che si trovano all'estremità di questa classificazione sono chiamati dati non strutturati e richiedono un'elaborazione specifica. L'area di ricerca che studia come gestire e accedere a questo tipo di dati è nota come **Information Retrieval**.

I dati che si collocano in una posizione intermedia sono definiti dati semi-strutturati e presentano caratteristiche sia dei dati strutturati che di quelli non strutturati. 

![[Pasted image 20250219145307.png|600]]

![[Pasted image 20250219145453.png|600]]

Uno dei linguaggi più utilizzati per la rappresentazione dei dati semi-strutturati è XML.

Nel modello relazionale esiste una chiara distinzione tra schema e dati, mentre nei dati semi-strutturati lo schema è parziale e condivide alcune proprietà con i dati stessi.

Il modello relazionale si basa sul concetto di insieme, mentre il modello semi-strutturato si basa sul concetto di lista. I dati relazionali sono non ordinati e non annidati, mentre i dati semi-strutturati sono ordinati e annidati.

## Extensible Markup Language (XML)

Il principale formato per la rappresentazione dei dati semi-strutturati è XML (Extensible Markup Language), un linguaggio di markup simile a HTML, ma senza tag predefiniti.

![[Pasted image 20250219151321.png|600]]

XML può essere utilizzato sia per rappresentare dati strutturati, ad esempio per scambiarli tra diverse applicazioni, sia per rappresentare dati semi-strutturati, sfruttando la sua flessibilità e la capacità di indicare sia i dati che lo schema.

Nel primo caso, i dati possono essere inizialmente memorizzati in un sistema relazionale e successivamente convertiti in XML. Nel secondo caso, il modello relazionale non è particolarmente adatto alla gestione di questi dati. 


![[Pasted image 20250219151357.png|600]]

## Limiti del modello relazionale

XML è stato creato per scambiare dati tra applicazioni e per rappresentare informazioni comprensibili dagli esseri umani.

Alcune interrogazioni "ragionevoli" non possono essere espresse in SQL senza l'uso della ricorsione oppure risultano inefficienti, richiedendo più accessi alla stessa tabella. Ad esempio:  "Trovare tutti i rappresentanti che partecipano al secondo progetto"_.

![[Pasted image 20250219151521.png]]

Va sottolineato che questa strada, opportunamente migliorata, è stata esplorata dalla comunità scientifica con buoni risultati. Quindi, rappresenta una possibile direzione. Tuttavia, la tendenza attuale è quella di sviluppare sistemi specifici per XML.

Consideriamo un libro e la sua rappresentazione in un modello relazionale. Un possibile schema potrebbe includere attributi come autore, titolo e testo. Ad esempio:

**Autore:** Sun Tzu  
**Titolo:** _The Art of War_  
**Anno di nascita:** 544 a.C.  
**Testo:** _The supreme art of war is ..._

Il campo _TEXT_ può contenere migliaia di caratteri senza alcuna struttura, utilizzando un tipo di dato come _CLOB_ (Character Large Object), che memorizza dati di lunghezza variabile.

Se volessimo aggiungere ulteriori informazioni, come la data di morte o una descrizione, sarebbe necessario modificare la struttura della tabella. Inoltre, per scambiare questi dati con altre applicazioni, dovremmo inviare anche la struttura insieme ai dati, altrimenti il contenuto potrebbe risultare incomprensibile.

## Proprietà dei dati semi-strutturati

La struttura dei dati semi-strutturati è irregolare o parziale. Un esempio di rappresentazione potrebbe essere un documento HTML:

```html
<html>
  <head><title>The Art of War</title></head>
  <body>
    <h1>The Art of War</h1>
    <h2>Chapter 1</h2>
    The supreme art of war is ...<br/>
    …
    <img src="img/war_picture_1.jpg"/>
    …
  </body>
</html>
```

In questo contesto, lo schema viene costruito a posteriori, basandosi sui dati stessi. È molto ampio e soggetto a una rapida evoluzione, così come i dati che rappresenta.

La struttura è quindi irregolare o parziale e lo schema viene costruito a posteriori come guida ai dati. Lo schema è molto ampio e in continua evoluzione, con differenze poco marcate tra schema e dati. Viene modificato e comunicato insieme ai dati, senza imporre vincoli rigidi.

Le interrogazioni (query) riguardano anche lo schema stesso. Nel caso di XML, l'ordine e l'annidamento dei dati sono elementi rilevanti. Essendo ordinati, i dati vengono rappresentati come liste.

## Dati senza schema (non strutturati)

Nei dati XML e semi-strutturati, lo schema possiede le caratteristiche descritte in precedenza, ma è comunque presente. Ad esempio, un'interrogazione in XPath (XML Path Language) su un documento XML accede tipicamente ai tag degli elementi, ovvero allo schema stesso.

Se lo schema non è presente, come nel caso di oggetti multimediali o file di solo testo narrativo, la gestione dei dati cambia in modo significativo. La disciplina principale che studia questo tipo di dati è nota come _Information Retrieval_.

I dati privi di schema, o che tipicamente non lo utilizzano, rivestono un'importanza fondamentale. Basti pensare a Internet e ai motori di ricerca, che sono per lo più sistemi di _Web Information Retrieval_.

Nonostante siano stati proposti linguaggi di interrogazione più complessi, nella maggior parte dei casi le query sui dati non strutturati, specialmente quelli testuali, sono molto semplici. Solitamente, si basano su liste di parole chiave, come ad esempio:

_"Restituisci i documenti che contengono la parola «battle»."_

Questa modalità di ricerca è molto diversa dalle query tipiche dei database relazionali, che possono essere molto più strutturate e articolate. Ad esempio:

```sql
SELECT name, COUNT(DISTINCT project), SUM(months)
FROM Person NATURAL JOIN Allocation
WHERE name LIKE 'M%' AND Age > 40
GROUP BY name;
```

Mentre le query sui dati relazionali utilizzano funzioni di aggregazione, filtri e operatori logici complessi, le query sui dati non strutturati si concentrano principalmente sulla ricerca per parole chiave, risultando più semplici e immediate.

## Risultati booleani e ranking

Nei database relazionali, le query esprimono requisiti precisi, e ogni tupla della soluzione soddisfa esattamente tali requisiti. La costruzione della risposta segue quindi un modello booleano: una tupla è presente o non è presente nel risultato.

Nel contesto dell’_Information Retrieval_, il modello booleano spesso non è utilizzabile. Questo è dovuto alla natura delle domande, all'enorme quantità di possibili risposte e al fatto che più documenti possono rispondere in modo più o meno pertinente ai requisiti espressi nella query.

A causa della distanza tra dati e informazioni, derivante dall’ambiguità dei dati, spesso non è possibile determinare con certezza se un risultato sia completamente rilevante o irrilevante. Per questo motivo, i risultati vengono ordinati per grado di rilevanza, come avviene nei motori di ricerca come Google, e l’utente accetta la possibilità di errori nei risultati.

Poiché solitamente non è possibile restituire risultati esatti e completi come nei dati strutturati, esistono metriche per descrivere la qualità di un risultato.

Ad esempio, una query del tipo:

_"Restituisci i documenti che hanno come argomento la guerra"_

potrebbe portare come risultato un documento contenente il seguente testo:

_"Conosci te stesso, conosci il tuo nemico. Mille battaglie, mille vittorie."_ – _Sun Tzu_

Sebbene il documento non contenga esplicitamente la parola "guerra", il suo contenuto è comunque rilevante rispetto alla richiesta dell’utente.

## Dati relazionali e dati non strutturati: confronto

Nei dati relazionali esiste una chiara distinzione tra schema e dati, mentre nei dati non strutturati lo schema è assente. I database relazionali utilizzano linguaggi di query strutturati, mentre per i dati non strutturati si impiegano linguaggi di ricerca.

Il modello relazionale segue un approccio booleano, garantendo correttezza e completezza nei risultati. Al contrario, i sistemi per la gestione di dati non strutturati adottano un modello basato sul ranking, dove i risultati vengono ordinati per rilevanza. Nei database relazionali, le operazioni prevedono aggiornamenti parziali e interrogazioni specifiche, mentre nei sistemi per dati non strutturati le operazioni riguardano aggiornamenti e analisi su grandi volumi di dati.

## Riepilogo

Dai confronti precedenti emerge che le proprietà dei dati, delle query e dei risultati nei sistemi relazionali differiscono significativamente da quelle nei sistemi per dati non strutturati.

Oltre all'ordinamento per rilevanza, i risultati delle query su dati non strutturati non prevedono la manipolazione dei dati, ma solo la selezione di alcuni di essi. Anche in questo caso, ancora più che per i dati semi-strutturati, è necessario adottare modelli e sistemi specifici.

Va notato che i più noti DBMS hanno già integrato alcune funzionalità derivate dall'Information Retrieval, come l'indicizzazione di colonne contenenti solo testo (_CLOB_, Character Large Object) o dati multimediali (_BLOB_, Binary Large Object).